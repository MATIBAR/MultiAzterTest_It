    Tema 6: Modelos de Distribución Zonal 1 6. GAIA: ZONAKATZE EREDUAK  Sorturiko bidaien ereduak zutabe/habe bakoitzeko balioen batura ematen dute.  Zonakatze ereduen helburua J/H matrizearen gelaxkak betetzea da: J/H MATRIZE BATEN EREDUA JATORRIAK HELMUGAK 1 2 3 ∑jTij …j …z 1 T11 T12 T13 …T1j …T1z O1 2 T21 T22 T23 …T2j …T2z O2 3 T31 T32 T33 …T3j …T3z O3 … i Ti1 Ti2 Ti3 …Tij …Tiz Oi … z Tz1 Tz2 Tz3 …Tzj …Tzz Oz … … … … … ∑iTij D1 D2 D3 …Dj …Dz ∑iTij=T Tij : “i” jatorritik “j” helmugaraino ematen den bidai kopurua  da. Oi : “i” jatorria duten bidai kopurua Dj : “j” helmugak erakarritasko bidai kopurua z : zona/gune kopurua 2 HELBURUA  Hasierako suposaketa: Beraz: Matrizea simetrikoa bada: zona/gune bakoitzeko, sorturiko guztizko bidai  kopurua eta erakarritakoak berdinak dira. Irizpide ezberdinen arabera, azterketearen helburuaren arabera  J/H  matrizeak azpibanandu daitezke: pertsona moten arabera (ibilgailuarekin,  gabe,…), bidaiaren zergatiaren arabera (lana, aisasialdia, erosketak,…),  eguneko orduaren arabera (goiza, eguerdia, puntako ordua,…), asteko  egunaren, garraio moduaren rabera,….. : “i”tik “j”ra “k” garraio moduan “n” pertsona motengatik eginiko bidaiak :“k” garraio moduan “n” pertsona motengatik “i”tik “j”ra joateko eginiko  bidaiaren kostua  Kostu orokorra: Bidai baten erabilgarritasun ezarekin loturiko adierazleen konbinazioak hartzen ditu  kontutan:  Penalizazioa modua; aurretik kontutan hartu ez diren hainbat  ezaugarri (segurtasuna, erosotasuna,…) adierazten du  Metodoak: 1. Hazkunde-faktorea 2. Grabitazionala 5  Factor de Crecimiento Zehaztasun maila eskasa: •   Erabilgarriak epe laburreko plangintzetan, edota  bidai- kostuetan aldaketa handirik  aurreikusten ez den kasuetan. •   Inkesta egin berriak eguneratzeko. •   Gune bat zeharkatzen duten etorkizuneko bidaiak balioztatzeko. •   Antzinako erroreak  handitu ditzake 6 HAZKUNDE FAKTOREA Honakoetan erabilgarriak dira: •   Zaharturiko J/H matrizea dugunean. •   Baliabide askorik erabili gabe J/H matrizea eguneratu nahi dunean. •   Honako daturen bat ezagutu nahi dugunean: aztertzen ari garen gunearen  hazkunde globala, edota gune ezberdinetan sortu/ erakarritako bidaien balioztaturiko  hazkundea. Ez du kontutan hartzen: •   Erabiltzaileek izan ditzaketen portaera aldaketak. •   Garraio-sareko eraldaketak. •   Azterturiko guneen egitura  Aurreko J/H matrizea badugu bakarrik balio dute. Hazkunde faktorearen metodoan barne eredu ezberdinak daude: 1. Hazkunde uniformea 2. Bornaturiko (akotaturiko)  eta bitan bornaturiko metodoak 3. Batezbesteko hazkundea 4. Detroit eredua 5. Fratar eredua HAZKUNDE FAKTOREA  Oinarrizkoena da, ez da iteratiboa. Etorkizuneko bidaien banaketa, oraingoekin alderatuz, proportzionala izango  dela suposatzen du, hau da,  gune osoan hazkunde bera emango dela. Tij = F x tij Tij : “i”ti “j” rako etorkizuneko bidaiak tij : : “i”ti “j” rako oraingo bidaiak F : hazkunde faktorea   HAZKUNDE  UNIFORMEKO FAKTOREA  HAZKUNDE  UNIFORMEKO FAKTOREA - adibidea Egungo matrizea A B C D batukaria A 10 50 130 100 290 B 50 20 120 240 430 C 100 100 10 70 280 D 140 200 150 10 500 batukaria 300 370 410 420 1500 Eskaeraren aurreikusiriko hazkundea: %15 A B C D batukaria A 11,5 57,5 149,5 115 333,5 B 57,5 23 138 276 494,5 C 115 115 11,5 80,5 322 D 161 230 172,5 11,5 575 batukaria 345 425,5 471,5 483 1725  HAZKUNDE FAKTOREA: Bornaturiko (akotaturiko) metodoa Egungo matrizea A B C D batukaria Oi Fi A 10 50 130 100 290 350 1,21 B 50 20 120 240 430 475 1,1 C 100 100 10 70 280 400 1,43 D 140 200 150 10 500 500 1 batukaria 300 370 410 420 1500 1725   Eskaeraren aurreikusiriko hazkundea: A B C D batukaria Oi A 12,07 60,34 156,9 120,69 350 350 B 55,23 22,09 132,56 265,12 475 475 C 142,86 142,86 14,29 100 400 400 D 140 200 150 10 500 500 batukaria 350,16 425,29 453,74 495,81 1.725,00 1725 Gune bakoitzean sorturiko bidaien hazkundeari buruzko informazioa  badugu  (jatorrietan  mugatua)  HAZKUNDE FAKTOREA: Bitan bornaturiko metodoa 1. pausua: Jatorrien murrizketak asebeteko dituzten  faktoreak kalkulatu 2. Pausua: Helmugen murrizketak asebeteko diztuzten faktoreak kalkulatu Metodo iteratiboa da. Egungo matrizea A B C D batukaria Oi Fi A 10 50 130 100 290 350 1,21 B 50 20 120 240 430 475 1,10 C 100 100 10 70 280 400 1,43 D 140 200 150 10 500 500 1,00 batukaria 300 370 410 420 1500 1725 1,15 Dj 350 475 400 500 Lau iterazio osorik egin eta gero, honako emaitzak lortzen dira: A B C D batukaria Oi Fi A 12,80 71,32 141,57 124,26 349,96 350 1,0001 B 58,29 25,98 119,02 271,61 474,90 475 1,0002 C 138,95 154,86 11,82 94,43 400,05 400 0,9999 D 139,96 222,84 127,59 9,71 500,09 500 0,9998 batukaria 350,00 475,00 400,00 500,00 1.725,00 1725 Dj 350 475 400 500 Fj 1,0000 1,0000 1,0000 1,0000  HAZKUNDE FAKTOREA: batezbesteko faktorea Gune ezberdinentzako hazkunde ezberdinak suposatzen ditu. Metodo iteratiboa eta zehaztasun maila ez da altua. (h iterazioan)  HAZKUNDE FAKTOREA: batezbesteko faktorea - ADIBIDEA Egungo matrizea A B C D batukaria Oi Fi A 10 50 130 100 290 350 1,21 B 50 20 120 240 430 475 1,10 C 100 100 10 70 280 400 1,43 D 140 200 150 10 500 500 1,00 batukaria 300 370 410 420 1500 1725 1,15 Dj 350 475 400 500 Fj 1,17 1,28 0,98 1,19 A B C D batukaria Oi Fi A 12,68 70,46 141,92 124,37 349,44 350 1,0016 B 57,68 25,73 118,62 271,76 473,79 475 1,0025 C 139,08 153,92 12,07 95,43 400,51 400 0,9987 D 139,95 223,78 127,72 9,81 501,26 500 0,9975 batukaria 349,38 473,90 400,34 501,38 1.725,00 1725 1,0000 Dj 350 475 400 500 Fj 1,0018 1,0023 0,9992 0,9972 7 iterazio eta gero,  HAZKUNDE FAKTOREA: beste metodo batzuk Detroit metodoa (batazbesteko eta Fratar metodoen artekoa): Fratar metodoa (etorkizuneko bidaiak oraingoekin proportzional egiten ditu):  HAZKUNDE FAKTOREA: Detroit metodoa - ADIBIDEA HAZKUNDE FAKTOREA: Fratar metodoa - ADIBIDEA A B C D batukaria Oi Fi A 12,79 71,26 141,53 124,27 349,86 350 1,0004 B 58,22 25,95 118,95 271,55 474,68 475 1,0007 C 138,97 154,86 11,83 94,52 400,17 400 0,9996 D 140,00 222,88 127,69 9,72 500,29 500 0,9994 batukaria 349,98 474,96 400,01 500,06 1.725,00 1725 1,0000 Dj 350 475 400 500 Fj 1,0001 1,0001 1,0000 0,9999 A B C D batukaria Oi Fi Li A 12,73 70,89 141,40 124,53 349,55 350 1,0013 1,0006 B 57,87 25,78 118,69 271,69 474,03 475 1,0020 1,0011 C 138,88 154,71 11,88 95,07 400,54 400 0,9987 0,9994 D 140,04 222,81 128,25 9,78 500,88 500 0,9983 0,9990 batukaria 349,52 474,18 400,23 501,07 1.725,00 1725 1,0000 1,0000 Dj 350 475 400 500 Fj 1,0014 1,0017 0,9994 0,9979 Lj 1,0009 1,0010 0,9995 0,9989  EREDU GRABITAZIONALA Newtonen grabitazio legean oinarriturik:                                                    Urteetan zehar egokitzen joan  da:    Lerro eta zutabeen bidaien batura ≠ Erakarritako eta sorturiko bidai kopurua  Ki eta Kj parametroak  balioztatu beharko  lirateke. Beraz, doiketak egin  behar dira; horretarako Ai eta Bj koefizienteak erabiltzen dira  (jatorriei eta helmugei dagozkienak):   EREDU GRABITAZIONALA Azken eguneraketa: •  Hiriarteako garraioan distantzia inpedantziaren faktore on bat da  (bidaia egiteko zailtasuna) •  Hiri guneetan egokiagoa da bidaiaren kostu orokorra erabiltzea:  Cij: Bidaiaren kostu orokorra (kostu monetarioa,  denboira-kostua, deserotasun kostua,….) β: doitu beharreko parametroa   ZENBAIT KOSTU-FUNTZIO F1= c -2 F2=exp(-1*c) F3= exp(-0,01*c) F4= exp(-0,3*c) F5 = c0,5*exp(-0,1*c) 9  EREDU GRABITAZIONALA - Biproportzionala Eguneratze enuntziatua: Egun sorturiko eta erakarritako bidaietatik  eta tij  bidaietako J/H  zaharkituriko matrizetik  abiatuz eguneraturiko Tij  matrizea lortu, honakoak  betez: Helburua: ai eta bj  balioak eta, ondoren eguneraturiko J/H matrizea  kalkulatzea.  EREDU GRABITAZIONALA - Biproportzionala Iragarpen-enuntziatua: Hasierako datuak: Oi : “i” gune bakoitzeko etozkizuenan sorturiko bidaiak Dj:  “j” gune bakoitzeko erakarritako bidaiak Cij : “i”tik “j” joateko bidaiaren kostua etorkizunean f(Cij): etorkizuneko bidaiaren inpedantzia islatzen du Tij = ai bj f(Cij )  EREDU GRABITAZIONALA - Biproportzionala Iragarpen-enuntziatua: -  Kostu-funtzio matrizea: adibidez,                  (β = 0 , 1) -   Bidai matrizea kostu-funtzioa matrizearekiko proportzionala: -   Hainbat alditan jatorri eta helmugak orekatuz:  EREDU GRABITAZIONALA – Biproportzionala - Adibidea Iragarpen-enuntziatua: Demagun honako kostu-matriea eta jatorri/helmuga murrizketak (etorkizuneko  erakarritako eta sorturiko bidaiak) Balioztatu grabitazio eredua, baldin eta β=0,1 A B C D Oi A 3 11 18 22 350 B 12 3 13 19 475 C 15,5 13 5 7 400 D 24 18 8 5 500 Dj 350 475 400 500 1725  EREDU GRABITAZIONALA – Biproportzionala - Adibidea Grabitazio eredua: Kostu-funtzioarekiko  (ez kostuak) proportzionala izango den matrizea osatu behar da: kostu-funtzio matrizea: exp(-0,1Cij) A B C D A 0,74 0,33 0,17 0,11 1,35 B 0,30 0,74 0,27 0,15 1,46 C 0,21 0,27 0,61 0,50 1,59 D 0,09 0,17 0,45 0,61 1,31 1,34 1,51 1,49 1,36 5,71 Batezbesteko proportzionaltasun faktorea:  EREDU GRABITAZIONALA – Biproportzionala - Adibidea Kalkulaturiko faktorearen arabera, kostu-funtzio matrizea bidai- matrizera hedatuz: A B C D Σ Oi ai A 223,66 100,50 49,90 33,45 407,51 350 0,859 B 90,93 223,66 82,28 45,16 442,03 475 1,075 C 64,08 82,28 183,12 149,92 479,40 400 0,834 D 27,39 49,90 135,66 183,12 396,06 500 1,262 Σ 406,06 456,34 450,96 411,65 1.725,00 Dj 350 475 400 500 1725 bj 0,862 1,041 0,887 1,215 Orekaturik gabe; orekatu egin behar da: A B C D Oi ai A 182,19 92,87 39,72 35,22 350,00 350 1,000 B 89,35 249,32 78,99 57,34 475,00 475 1,000 C 48,35 70,44 135,00 146,21 400,00 400 1,000 D 30,22 62,46 146,23 261,10 500,00 500 1,000 350,11 475,09 399,94 499,87 1.725,00 Dj 350 475 400 500 bj 1,000 1,000 1,000 1,000  EREDU GRABITAZIONALA – Biproportzionala - Adibidea Ereduan erabilitako koefizienteak: ai1 ai2 ai3 ai4 ai5 ai 0,859 1,035 1,008 1,002 1,001 0,898 1,075 1,004 1,003 1,001 1,000 1,084 0,834 1,002 0,997 0,999 1,000 0,832 1,262 0,972 0,994 0,998 1,000 1,217 bj1 0,862 1,041 0,887 1,215 bj2 0,926 1,036 0,878 1,153 bj3 0,984 0,995 1,006 1,012 bj4 1,062 0,960 1,145 0,877 bj5 0,999 0,999 1,001 1,001 bjk 0,833 1,030 0,898 1,244 bj F 251,596 310,950 271,086 375,707  EREDU GRABITAZIONALA - Triproportzionala Hirugarren faktore bat (Ck) balioztatuz garraio kostu funtzioa kalkulatzea  ahalbidetzen du. Faktore hori  kostu-tarte (K) bakoitzean behaturiko  bidaietara loturik dago: beraz, bata bestearen ondoren , jatorriak, helmugak  eta kostu bera duten gelaxken bidaien baturak mugatu behar dira. Nahitaezko datuak. -  Ezarritako zonifikazioa. -  Bidaien kostu-matrizea. -  Laginaren bidai-matrizea, eta gune bakoitzean erakarritako/sorturiko  bidaiak. -   Helburua: Etorkizuneko J/H matrizea lortzea. -   Abantaila:  hutsik dauden gelaxkako matrizetan ere erabil daiteke  EREDU GRABITAZIONALA - Triproportzionala Prozesu iteratiboa da: 1.Tarte (K) kopurua erabaki behar da. Balio maximoa eta minimoa hartu eta  K-rekin zatitu. 2.Tarte bakoitzeko, rk kalkulatu (tartean dauden gelaxken kostuen kostuen  batezbestekoa). 3.f(rij= 1/rk), funtzio kostua berdina da kostu bera duten gelaxketan. 4.Sk kalkulatu: kostu-tarte bakoitzeko bidai kopurua. Hasierako matrizeari  dagokion ponderazio-faktorea ezarri behar zaio.  5.Tij matrizea kalkultatu: Tij = F x f(rij) 6.Iterazioak eginez ebatzi behar da, honakoak doituz: • Ai: Jatorriak • Bj: Helmugak • Ck: kostu-tartea bera duten guneen bidai kopurua EREDU GRABITAZIONALA - Triproportzionala  EREDU GRABITAZIONALA – Triproportzionala - adibidea Hiru kostu-tarte tarte daude. Kalkulatu kalibrazio-parametruak. Hasierako  bidai matrizea eta etorkizuneko jatorri/helmugak honakoak dira:        A B C D A 3,00 11,00 18,00 22,00 B 12,00 3,00 13,00 19,00 C 15,50 13,00 5,00 7,00 D 24,00 18,00 8,00 5,00   K=3 (3-10, 11-17, 18-24) A B C D Ji A 10 50 130 100 290 350 B 50 20 120 240 430 475 C 100 100 10 70 280 400 D 140 200 150 10 500 500 300 370 410 420 1.500 Hi 350 475 400 500 1725  EREDU GRABITAZIONALA – Triproportzionala - adibidea Kostu matrizea honakoa da f(c)= 1/ri :  r1=  6,96 r2= 13,24 r3 19,83 A B C D A 0,144 0,076 0,050 0,050 0,320 B 0,076 0,144 0,076 0,050 0,345 C 0,076 0,076 0,144 0,144 0,438 D 0,050 0,050 0,144 0,144 0,388 0,345 0,345 0,413 0,388 1,492 S1 = T11 + T22 +…= 310,5 S2 = 483,0 S3 = 931,5 Ponderazio-faktorea:  = 1725 / 1,492 = 1.157,17   EREDU GRABITAZIONALA – Triproportzionala - adibidea Iteratzeko erabiliko dugun lehenengo bidai-matrizea honakoa da. Ji ai 166,1 87,4 58,3 58,3 370,11 350 0,95 87,4 166,1 87,4 58,3 399,14 475 1,19 87,4 87,4 166,1 166,1 506,91 400 0,79 58,3 58,3 166,1 166,1 448,84 500 1,11 399,1 399,1 477,9 448,8 1.725 bj Hi 350 475 400 500 1725 s1 996,6 310,5 s2 436,8 483 s3 291,6 931,5  EREDU GRABITAZIONALA – Triproportzionala - adibidea Lehenengo iterazioa jatorrietan (ai). 157,07 82,61 55,16 55,16 350,00 103,96 197,66 103,96 69,41 475,00 68,94 68,94 131,06 131,06 400,00 64,98 64,98 185,02 185,02 500,00 394,94 414,19 475,21 440,66 1.725,00 350 475 400 500 0,886 1,147 0,841 1,135 Lehenengo iterazioa helmugetan (bj). 139,19 94,74 46,43 62,59 342,95 92,13 226,68 87,51 78,76 485,08 61,09 79,06 110,32 148,71 399,18 57,58 74,52 155,74 209,94 497,78 350,00 475,00 400,00 500,00 S1 990,58 310,5 0,31 S2 414,54 483 1,17 S3 319,9 931,5 2,91  EREDU GRABITAZIONALA – Triproportzionala - adibidea Lehenengo iterazioa kostu bera duten eremuen bidaietan (ci): 139,19 94,74 46,43 62,59 342,95 92,13 226,68 87,51 78,76 485,08 61,09 79,06 110,32 148,71 399,18 57,58 74,52 155,74 209,94 497,78 350,00 475,00 400,00 500,00 S1 990,58 310,5 0,31 S2 414,54 483 1,17 S3 319,9 931,5 2,91 43,63 110,39 135,20 182,24 471,46 350 107,35 71,05 101,96 229,34 509,71 475 71,18 230,21 34,58 46,61 382,58 400 167,67 216,98 48,82 65,81 499,28 500 389,83 628,63 320,56 524,01 350 475 400 500  EREDU GRABITAZIONALA – Triproportzionala - adibidea 5 iterazio eta gero: 16,2 52 149,4 135 352,60 350 67,4 42,2 116,8 247,8 474,20 475 102,1 144,6 78,2 70,6 395,50 400 163,6 235,7 54,3 49 502,60 500 349,3 474,5 398,7 502,4 1.724,90 350 475 400 500  ai(1) ai(2) ai(3) ai(4) ai(5) ai 0,946 0,742 0,882 0,957 0,982 0,582 1,190 0,932 0,970 0,993 1,000 1,068 0,789 1,636 1,156 1,057 1,025 1,617 1,114 1,001 1,015 0,994 0,994 1,118 EREDU GRABITAZIONALA – Triproportzionala - adibidea bj(1) 0,886 1,147 0,842 1,135 bj(2) 0,840 0,920 1,330 1,018 bj(3) 0,971 0,976 1,073 0,991 bj(4) 0,991 0,993 1,028 0,992 bj(5) 0,999 0,999 1,011 0,994 bj 0,715 1,022 1,249 1,129 c1(1) 0,313 c2(1) 1,165 c3(1) 2,912 c1(2) 0,832 c2(2) 0,925 c3(2) 1,123 c1(3) 0,929 c2(3) 0,964 c3(3) 1,047 c1(4) 0,973 c2(4) 0,98 c3(4) 1,02 c1(5) 0,99 c2(5) 0,988 c3(5) 1,101 c1 0,233 c2 1,0058 c3 3,8451 Eredua eta parametruak: ****** Document Outline ******     * Slide_1     * Slide_2     * Slide_3     * Slide_4     * Slide_5     * Slide_6     * Slide_7     * Slide_8     * Slide_9     * Slide_10     * Slide_11     * Slide_12     * Slide_13     * Slide_14     * Slide_15     * Slide_16     * Slide_17     * Slide_18     * Slide_19     * Slide_20     * Slide_21     * Slide_22     * Slide_23     * Slide_24     * Slide_25     * Slide_26     * Slide_27     * Slide_28     * Slide_29     * Slide_30     * Slide_31     * Slide_32     * Slide_33     * Slide_34     * Slide_35     * Slide_36 ===============================================================================
