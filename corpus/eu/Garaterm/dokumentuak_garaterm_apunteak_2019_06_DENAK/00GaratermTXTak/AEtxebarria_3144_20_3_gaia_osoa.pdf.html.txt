



1 
 
 1. Gaia: Industria automatizazioaren hastapenak 
 
 2. Gaia: Prozesu-kontrol eta automatizazioa garatzeko hardware osagaiak: 
sentsoreak, eragingailuak, AD/DA bihurgailuak, eta sarrera-irteera modulu. 
 
 3. Gaia: Goi-mailako inguruneak PAC-ak programatzeko. 
 
 4. Gaia: Kontroleko sistema automatikoen integrazioa 
Industria Automatizazioa 
GAI-ZERRENDA 

2 

1.- Kontrol digitala duen sistema 

2.- kontrol digitala diseinatzeko eta ezartzeko prozedura  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 

3.- Laginketa periodoaren hautaketa 
Gai-zerrenda: 3. Gaia. 

3 
Sistema 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 
Sistema
Helburua: Kontrol-legea diseinatzea eta ezartzea SISTEMA DIGITAL batean. 
 
Horretarako, kontroladorearen Transferentzia-Funtzioa lortzea ezinbestekoa da:
 F(z) 
 
F(z) Transferentzia-Funtzioa, denbora jarraituan bere homologoa den F(s)-
aren moduan, sistemaren ezaugarriak aztertzeko 
erabil daiteke, besteak beste, denbora-erantzuna, maistazun-
erantzuna, egonkortasuna eta erregimen iraunkorra. 
Sarrera eta irteera seinaleak denbora jarraituarenak ez bezala, x
[k] zenbaki errealen segidak izango dira. Segidaren balioak k 
indizearen araberakoak izango dira. 
 
Denbora diskretuan daukagun seinaleak Ts-
ro lagindua izan den denbora jarraituko seinalea x(t) jatorria izan badu, 
lagindutako seinalea horrela adierazten da:  
Ts =laginketa periodoa 
k = denbora-aldiunea 
   ,
0, 1, 2,...
s
x k
x kT
k

  
Adibidez: exponentziala 
 


0.9
1.00, 0.900, 0.810, 0.729, 0.656, 0.590...
k
x k 

 
   
at
aTsk
k
aTs
s
x t
e
x k
x kT
e
e










K balioetatik abiatuz 
Seinale jarraituaren 
balioetetik abiatuz 
Denbora diskretuko sistemak arau bat definitzen du y
[k] irteeraren balio bakoitza lortzeko baldin eta ezagutzen badira u[k] 
sarreraren balioak eta hasierako baldintzak. 

4 
Sistema 
Kontrol
-legea 
Servo 
motorea 
Lan-
mahaia 
Nora 
Sistema 
Encoder 
 
1
s
K
G s
e
sT




 
1
1


G s
jwT
H(s) eredua 
 
PID
d
i
1
Gc
s
K 1
T s
Ts









Helburua: Kontrol-legea diseinatzea eta ezartzea SISTEMA DIGITAL batean 
 
1. baliabidea: Denbora jarraituan diseinatu + diskretizazioa 
DAQ 
DAC 
DAQ 
ADC 
G(s) eredua 
Eredu Diskretua: G(z) 
y(t) 
u(t) 
Instalazioa 
- 
G(s) 
Erreferentzia 
+ 
u(t) 
y(t) 
e(t) 
Denbora jarraituan 
diseinua 
Diskretizazioa 
G(z) ezarri PAC batean 
G(s) 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

5 
DAQ 
kontroladorea 
DAQ 
Prozesua: 
ergingailuak+instalazioa+
sentsoreak 
y(t) 
u(t) 
r(t
k) 
Instalazioa 
- 
G(s) 
Erreferentzia 
+ 
u[k] 
y[k] 
DAQ 
DAC 
DAQ 
ADC 
u(t) 
y(t) 
e[k] 
H(s) 
H(s) 
G(s) 
Eredu diskretua: G(z) 
u[k] 
y[k] 
e[k] 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

6 
Sistema 
Sistema
Kontrol-
legea 
Servo 
motorea 
Sistema Digitala 
Sistema 
Encoder 
Drive 
Ereferentzia 
DAQ 
DAC 
DAQ 
ADC 
y(t) 
u(t) 
Eredu diskretua: H(z) 
H(s) eredua 
Helburua: Kontrol-legea diseinatzea eta ezartzea SISTEMA DIGITAL batean 
 
2. baliabidea: denbora diskretuan diseinatu: instalazio diskretua +
kontroladore diskretua 
Eredu diskretua: 
G(z) 
u[k] 
y[k] 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

7 
DAQ 
Kontroladorea 
DAQ 
y(t) 
u(t) 
r(t
k) 
Instalazioa 
- 
G(z) 
Erreferentzia 
+ 
DAQ 
DAC 
DAQ 
ADC 
u(t) 
y(t) 
H(z) 
H(z) 
G(z) 
Diskretuan diseinatu: Instalazioa diskretua + kontroladorea diskretua 
G(z) ezarri PAC batean 
u[k] 
y[k] 
e[k] 
u[k] 
y[k] 
e[k] 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 
Prozesua: 
ergingailuak+instalazioa+
sentsoreak 

8 
Kontroladore digitalak jarraituak baino emaitz hobeak lortzen dituzte. 
Kontrol-
algoritmoa erraz alda daiteke  kontroladorearen programa aldatzea besterik ez baita egin 
behar. Kontroladore analogikoetan osagai analogikoak aldatu behar direnez, zaila da zirkuitua 
eginda dagoenean.  
Kalkuluetan zehatzagoak dira. 
Sistema digitala beste funtzioetarako erabil daiteke: alarmak,  datu-
biltegiratze…. 
Abantailak 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

9 

1.- Kontrol digitala duen sistema 

2.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 1. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 

3.- Laginketa periodoaren hautaketa 

4.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 2. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 
 
Gai-zerrenda: 3. Gaia. 

10 
Sistema 
Kontrol
-legea 
Servo 
motorea 
Lan-
mahaia 
Nora 
Sistema 
Encoder 
 
1
s
K
G s
e
sT




 
1
1


G s
jwT
H(s) eredua 
 
PID
d
i
1
Gc
s
K 1
T s
Ts









Helburua: Kontrol-legea diseinatzea eta ezartzea SISTEMA DIGITAL batean 
 
1. baliabidea: Denbora jarraituan diseinatu + diskretizazioa 
DAQ 
DAC 
DAQ 
ADC 
G(s) eredua 
Eredu Diskretua: G(z) 
y(t) 
u(t) 
Instalazioa 
- 
G(s) 
Erreferentzia 
+ 
u(t) 
y(t) 
e(t) 
Denbora jarraituan 
diseinua 
Diskretizazioa 
G(z) ezarri PAC batean 
G(s) 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

11 
DAQ 
kontroladorea 
DAQ 
Prozesua: 
ergingailuak+instalazioa+
sentsoreak 
y(t) 
u(t) 
r(t
k) 
Instalazioa 
- 
G(s) 
Erreferentzia 
+ 
u[k] 
y[k] 
DAQ 
DAC 
DAQ 
ADC 
u(t) 
y(t) 
e[k] 
H(s) 
H(s) 
G(s) 
Eredu diskretua: G(z) 
u[k] 
y[k] 
e[k] 
3. Gaia. 1. atala. Kontrol digitala duen sistema
 

12 
Kontroladorearen diseinua eta ezarpena 1. baliabidearen bitartez 
2.1 Instalazioaren modelaketa (Gela Praktika 3.1) 
 Instalazioaren modeloa Simulink-en garatu 
 Instalazioaren modeloaren parametroak estimatu Simulink Design Optimization 
erabiliz 
2.2 Kontroladorearen diseinu lineala (Etxerako lana) 
 Kontroladorearen egitura definitu Control System Toolbox+Simulink Design 
Optimization erabliz. 
2.3 Kontroladorearen diseinu ez lineala. (Gela Praktika 3.2) 
 PID-aren parametroak doitu Simulink Design Optimization erabiliz. 
2.4 Kontroladorearen ezarpena 
 Kontroladorea diskretizatu eta  
 Ezarri sistema digital batean (Laborategi praktika) 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 

Encoder 
13 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Aurre-
ezagutzak 
1. Experimentuaren 
diseinua 
2. Datuak 
jaso 
3. Modeloa 
aukeratu 
4. Parametroak 
estimatzeko kriterioa 
aukeratu 
5. Modeloaren kalkulua 
6. Modeloaren balidaketa 
Lortutako modeloa erabil 
dezaket? 
1. baliabidea 
Servo 
motorea 
Lan-
mahaia 
Sistema 
y(t) 
u(t) 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 

14 
Sarrera-irteera datuekin H(s) modeloa estimatzen da 
Prozedura 
2.- Sarrera/irteera datuak eskuratu behar dira aukeratu den modeloaren
estimazioa eta balidaketa 
egiteko.  
Sarrera_Estimazioa 
Irteera_Estimazioa 
Irteera_Balidaketa 
Sarrera_Balidaketa 
3.- Modeloa estimatu Estimazio datuak erabiliz. H
Estimatua(s) 
4.- Estimatu den modeloari, H
Estimatua(s) , aplikatu behar zaizkio Sarrera_Balidazio datuak 
H
Estimatua(s) 
Sarrera_Balidaketa 
Erantzuna_simulatua 
5.- Erantzuna_simulatua eta Irteera_Balidaketa berdinak dira?  
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
1.- Modeloaren egitura eta parametroak definitu. 
 
1
s
K
G s
e
sT




Sarrera_Estimazioa eta Irteera_Estimazio 
datuekin parametroak estimatzen dira ereduren bat 
aplikatuz.  



a
2
a
a
m
a
k
H(s)
R
sL
Js B
k




H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 

15 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Aurre-
ezagutzak 
1. Experimentuaren 
diseinua 
2. Datuak 
jaso 
Jaso behar diren datuak:  
1.- Estimazioa garatzeko 
2.- Balidazioa egiteko 
- Bi aldiz exekutatu, sarrera-seinale ezberdinekin. 
- Entrada.dat, salida.dat , Sal_ver.dat, Ent_ver.dat artxiboak 
lortzen dira target-ean 
- Artxibo horiek “irakurgarri” bihurtu behar dira eta Wokspace-n 
agertuko dira aldagai moduan. Datuak eta denbora aldagai 
ezberdinetan jarriko dituzu: est_sarrera_datuak, 
est_irteera_datuak, est_denbora, bal_sarrera_datuak, 
bal_irteera_datuak, bal_denbora.  
1. baliabidea 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 

16 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Get_start_control.pdf (Control Tolbox): 2. gaia. SISO example 
Help>>Control system Toolbox >> Demos >> Case Studies >> 
DC Motor Control 
3. Modeloa 
aukeratu 
Modeloaren EGITURA aukeratu behar da:
 lehen mailakoa, bigarren mailakoa, funtzio matematikoa… 
Modeloaren egitura simulink eskema batean adieraziko dugu. 
1. baliabidea 



m
a
a
m
m
b
k
H(s)
R
sL
Js B
k k




MotorCC_v1.mdl 
Workspace-n parametroen balio ezagun batzuk kargatu 
 
Km=0.1 
L=0.5 
R=2 
 
J=0.02 
Kf=0.2 
Kb=0.1 
Oharra:
 gorde itzazu aldagai guztiak .mat baten hurrengo saiorako prest izateko 

17 
H(s) lortzeko metodologia praktikoa:  sistemaren identifikazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Get_start_design_optimization.pdf (Simulink Design optimization). 2-3 
2. Datuak 
jaso 
3. Modeloa 
aukeratu 
4. Parametroak 
estimatzeko kriterioa 
aukeratu 
5. Modeloaren kalkulua 
Parametroak kalkulatzeko: Tools >> Parameter Estimation 
 
Estimazio datuak eta Balidazio datuak hartzen dira 
 
Estimatu behar diren parametroak aukeratzen dira 
 
Algoritmoa aukeratzen da. 
1. baliabidea 

18 
6. Modeloaren balidaketa 
H(s) 
Sarrera_Balidaketa 
Erantzuna_simulatua 
Irteera_Balidaketa 
Balidazio_sarrera 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 
 
     
,
,
N
N
t
t
y t
y t

 





19 
6. Modeloaren balidaketa 
Behar beste ona da? 
Ez 
Estimazioa errepikatu algoritmoa aldatuz. 
Ezin bada hobetu, modeloa aldatu beharko da. 
Ezin bada hobetu, estimazio-datuak aldatu beharko dira 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
Erantzuna_simulatua 
Irteera_Balidaketa 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 

20 
6. Modeloaren balidaketa 
Estimazioa errepikatu algoritmoa aldatuz. 
 
Ezin bada hobetu, modeloa aldatu beharko da. 
 
Froga itzazu beste egitura hauek: MotorCC_NL_v1.mdl, MotorCC_NL_v2.mdl,  
 
 
 
 
MotorCC_NL_v3.mdl 
             
                   Oharra:
 Gehitu direz Ez linealtasunak 3.praktikan lortutakoak dira 
 
Ezin bada hobetu, estimazio-datuak aldatu beharko dira 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
H(s) lortzeko metodologia praktikoa: sistemaren identifikazioa 
Hurrengo pausurako egokiena aukeratu 

21 
Kontroladorearen diseinua eta ezarpena 1. baliabidearen bitartez 
2.1 Instalazioaren modelaketa 
 Instalazioaren modeloa Simulink-en garatu 
 Instalazioaren modeloaren
parametroak estimatu Simulink Design Optimization erabiliz 
2.2 Kontroladorearen diseinu lineala 
 Kontroladorearen egitura definitu Control System Toolbox+Simulink Design 
Optimization erabliz. 
2.3 Kontroladorearen diseinu ez lineala. 
 PID-aren parametroak doitu Simulink Design Optimization erabiliz. 
2.4 Kontroladorearen ezarpena 
 Kontroladorea diskretizatu eta ezarri sistema digital batean 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 

22 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 
2.2.  Kontroladorearen diseinu lineala: Control System Toolbox
erabiliz Erregulazio 
irakasgaian ikasi duzuen moduan 
 Kontroladorearen egitura definitu: PID 
 Kontroladorea doitu. Balio horiek abiapuntua izango dira hurrengo pausuan. 
 
 
 
 
 
 
2.3.  Kontroladorearen diseinu ez lineala 
 Simulink eskema garatu: PID + Modeloa (Subsystem moduan edo Mask) + ez 
linealtasunak (Etxerako lana) 
 
 
EsquemaPID.mdl 
 PID-aren parametroak doitu Simulink Design Optimization erabiliz. 7. atala 
(Gela praktika 3.2)  
Aplikazio adibidea 45-46 
Simulink adibidea: PID_s_doitu.mdl 
Egonkortze-denbora=ts<=0.1 segundu 
Gaineza: R<= 5% 
Errorea iraunkorrean=e<=1%=0.01 
Etxerako lana 

23 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 
2.3 Kontroladorearen diseinu ez lineala (Gela praktika 3.2)  
PID-aren parametroak doitu Simulink Design 
Optimization erabiliz. 7. atala 

Overshoot edo errebose maximoa: egoera egonkorrarekiko erantzun-
oszilatorioak lor dezakeen 
balio maximoa. 

Piko-denbora: Errebose maximoa lortzeko denbora  

Setting time edo ezarpen-denbora:
 sistemak egoera egonkorra lortzeko behar duen denbora. Egoera 
hori izango da sistema egonkorraren erantzunaren  %2 edo %5-
eko bandatik irteten ez denean.  

Rise  time  edo  jasotze-denbora:
  erantzunak  egoera  egonkorraren  %10ren  baliotik  %90ko  balioa 
lortu arte ematen duen denbora. 

Undershoot: hasieran kontrako mugimendua balego, zenbateko anplitudea duen. 
Sistemarako nahi ditugun espezifikazioak  
Aurreko atalan lortutako parametro optimizatuak erabili behar dira 

24 
Kontroladorearen diseinua eta ezarpena 1. baliabidearen bitartez 
2.1 Instalazioaren modelaketa 
 Instalazioaren modeloa Simulink-en garatu 
 Instalazioaren modeloaren
parametroak estimatu Simulink Design Optimization erabiliz 
2.2 Kontroladorearen diseinu lineala 
 Kontroladorearen egitura definitu Control System Toolbox+Simulink Design 
Optimization erabliz. 
2.3 Kontroladorearen diseinu ez lineala. 
 PID-aren parametroak doitu Simulink Design Optimization erabiliz. 
2.4 Kontroladorearen ezarpena 
 Kontroladorea diskretizatu eta ezarri sistema digital batean 
Prozedura 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 

25 
Diferentziazko ekuazioak 
Diferentziako ekuazioak, k aldiune bakoitzeko, algoritmoaren emaitza (y
[k] irteera) adierazten du u[k] 
sarrera-balioaren konbinazio lineal moduan. 
  

  

1
1
1
qy k
y k
q y k
y k





Atzeratze-eragilea 
Aurreratze- eragilea 
  

  

d
d
q y k
y k
d
q
y k
y k
d





y[k] = -a
1y[k-1]+b1u[k-1] 
Aurreratze edo atzeratze eragileekin adieraz daiteke: 
(1+a
1q
-1)y
k = -b1q
-1u
k 
Eragile diferentzialaren p=d/dt baliokide diskretua da 
Aurreratze-
atzeratze eragilea erabiliz, diferentziazko ekuazioekin egin beharreko eragiketak,  eragiketa 
algebraikoak bihurtzen dira. 
Diferentziazko ekuazioaren adibidea 
y
k = -a1yk-1+b1uk-1 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 

26 
 




0
1
n
n
i
i
i
i
y k
b u k
i
a y k
i



 



Orokortuz 
Diferentziazko ekuazioak 
 
 








0
1
1
1
....
1
...
n
n
y k
b u k
b u k
b u k
n
a y k
a y k
n


  
 
  

Denboraren jatorria k = 0 da. 
 
Lehen iterazioa garatzeko sarreraren eta irteeraren n balioak behar dira 
(guztira 2n) 
 
Hasierako baldintzak  nulu direla suposatzen da.  
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 

27 
Sistema lineal eta inbarianteari dagokion G(z) Transferentzia-
Funtzioa da, irteeraren eta sarreraren Z 
transformatuaren arteko erlazioa, hasierako baldintzak nuluak izanda. 
G(z) Transferentzia-Funtzioa lortzeko prozedura 
Z transformatua 
Denbora jarraituan erabiltzen den Laplace transformatuaren baliokidea da. 
 
   
 
   
 
 
 
 

  
 
   
 
k
1
2
k 0
k
1
2
k 0
x k
X z
x k z
x 0
x 1 z
x 2 z
...
x t
x kT
X z
x kT z
x 0
x T z
x 2T z
...

























Z transformatua aplikatu ahal zaio x[k] zenbaki-sekuentzia bati, edo x
(t) denbora jarraituko funtzioari.  Azken kasuan, 
laginketa unetan bakarrik kontuan hartuko dira balioak. 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 

28 
Z transformatuaren adibideak 
 
 
 
 
 
x 0
1,
x 1
2,
x 2
0,
x 3
3,
x k
0
k
4

 



 
1. ariketa:  hurrengo seinale diskretuaren Z transformatua kalkula ezazu 
2. ariketa:  Eskaloi unitarioaren Z transformatua kalkula ezazu 
 
 
 

  
  k
k 0
x t
1 kT
X z
x kT z








k
k 0
1
x
x
1
1 x



 


aplikatzeko: 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
1. baliabidea 

29 
 
 
 
 
 
x 0
1,
x 1
2,
x 2
0,
x 3
3,
x k
0
k
4

 



 
1. ariketa:  hurrengo seinale diskretuaren Z transformatua kalkula ezazu 
2. ariketa:  Eskaloi unitarioaren Z transformatua kalkula ezazu 
 
 
 

  
  k
1
2
3
k 0
x t
1 kT
X z
x kT z
1 z
z
z
....









 




k
k 0
1
x
x
1
1 x



 


Serie geometriko konbergente baten batuketa da: 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
 
   
  k
1
3
k 0
x k
X z
x k z
1 2z
3z







 


Infinitu gai 
 
 
 

  
 
 


k
1
2
3
k 0
1
x t
1 kT
X z
x kT z
1 z
z
z
....
1
z
1 kT
1 z
z 1










 









30 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Z transformatuaren adibideak 
Laginketa 
Pultsu 
Eskaloia 
Arrapala 
1. baliabidea 

31 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
Z transformatuaren adibideak 
1. baliabidea 

32 
1. metodoa: Euler (Backward approximation) 
1
1
( )
(
1)
( )
( )
( )
( )
( )(1
)
( )
q k
q k
Tf k
q z
z q z
Tf z
q z
z
Tf z



 





Integral funtzio diskretua q(k): 
1
( )
( ) ( )
( )
( )
( )
(1
)
(
1)
q z
T
zT
f z D z
q z
D z
f z
z
z








Integradore diskretua D(z): 
Integradore jarraituari Euler-Backward-en hurbilketa-metodoa  
1
1
1
Tz
z
s
s
z
Tz


 

3. ariketa: G
cs(s) aurreratze-sarearen baliokide diskretua lor ezazu Euler-
en metodoa erabiliz eta  
T=0.1s izanik. 
2
( ) 10
10
cs
s
G
s
s



Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
0.8333
( )
6.
0.5



cd
z
G
z
z

33 
2. metodoa: Tustin (Bilineala edo Trapezoidala) 








1
1
1
1
( )
(
1)
(
1)
( )
(
1)
(
1)
( )
(
1)
2
2
( )
( )
( )
( )
( )(1
)
( )(1
)
2
2
T
T
q k
q k
Tf k
f k
f k
q k
f k
f k
T
T
q z
z q z
f z
z f z
q z
z
f z
z





 
 



 









1
1
( )
1
1
( ) ( )
( )
( )
( )
2 1
2
1
q z
T
z
T
z
f z D z
q z
D z
f z
z
z























1
1
2
1
2
1
1
T
z
z
s
s
z
T z





 






4. ariketa: G
cs(s) aurreratze-sarearen baliokide diskretua lor ezazu Tustin-
en metodoa erabiliz eta  
T=0.1s izanik 
2
( ) 10
10
cs
s
G
s
s



Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Integral funtzio diskretua q(k): 
Integradore diskretua D(z): 
Integradore jarraituari Tustin-en hurbilketa-metodoa  
1. baliabidea 
0.8181
( )
7.3333
0.3333



cd
z
G
z
z

34 
3. metodoa: polo-zero berdintzearen metodoa. 
0
( )
(
) (
)
(0) ( )
( ) (
)
(2 ) (
2 ) ...
k
x
t
x kT
t
kT
x
t
x T
t T
x T
t
T
















Eremu jarraituan funtzio 
diskretuaren adierazpena: 
0
0
*( )
[ *( )]
(
) [ (
)]
(
)
kTs
k
k
X
s
L x
t
x kT L
t
kT
x kT
e













x*(t)-ri Laplace aplikatzen diogu: 
Aurreko definizioa Z transformatuaren definizioarekin 
konparatzen badugu, biak berdinak dira baldin eta  
1



Ts
e
z
Ondoren irabazia zuzenduko dugu aplikatuz: 
0
1
lim
( )
lim
( )
cs
cz
s
z
G
s
G
z



5. ariketa: G
cs(s) aurreratze-sarearen baliokide diskretua lor ezazu polo-
zero  metodoa erabiliz eta  
T=0.1s izanik 
2
( ) 10
10
cs
s
G
s
s



Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
 
   
 
   
 
 
 
 

  
 
   
 
k
1
2
k 0
k
1
2
k 0
x k
X z
x k z
x 0
x 1 z
x 2 z
...
x t
x kT
X z
x kT z
x 0
x T z
x 2T z
...

























Polo-zero berdintzearen metodoa izango da
, kontroladore jarraituaren polo eta zeroak hartuta, eta horiei 
esT=z aplikatuz kontroladore diskretuaren zeroak eta poloak lortzea. 
0.2
1
0.8187
0.8187
0.3679
( )
6.974
0.3679







cd
z
e
e
G
z
z

35 
4. metodoa: Inbariantza pultsuaren metodoa. 
( ) 1
[
( ) 1]
( )
[
( )]
cz
cs
cz
cs
G
z
Z G
s
G
z
Z G
s
 
 

Eremu jarraituaren eta diskretuaren pultsu-
erantzunak berdintzen dira laginketa unetan: 
Hau da, sistema jarraituaren pultsu erantzunaren Z transformatua eta sistema digitalaren pultsu erantzuna 
berdintzen dira. Hots, G
cs(s)-ri Z transformatua aplikatzean datza metodoa. 
5. metodoa: Inbariantza eskaloiaren metodoa. 
Eremu jarraituaren eta diskretuaren eskaloi-
erantzunak berdintzen dira laginketa unetan: 
( )
1
1
( )
[
( )
]
( )
[
]
1
cs
cz
cs
cz
G
s
z
z
G
z
Z G
s
G
z
Z
z
s
z
s



 


2
( ) 10
10
cs
s
G
s
s



6 ariketa: G
cs(s) aurreratze-
sarearen baliokide diskretua lor ezazu inbariantza  metodoak erabiliz eta  
T=0.1s izanik 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
Hau da, sistema jarraituaren eskaloi erantzunaren Z transformatua eta sistema digitalaren eskaloi erantzuna 
berdintzen dira. Hots, G
cs(s)-ri ZOH-a gehituta lortzen den funtzioaren Z transformatua aplikatzearen 
baliokidea da metodoa. 
1. baliabidea 
7
0.3679
0.0526
( ) 10
70
0.367
0.367
cd
z
z
G
z
z
z
 


 


0.876
( ) 10
0.3679



cd
z
G
z
z

36 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
 
0.154
3
2
2.2
3.56
5.9
12.78
16.2
s
s
G s
e
s
s
s





Ts=0.05seg 
 


3
2
3
3
2
0.0000273
0.002975
0.0008494
0.001769
2.716
2.462
0.7445







z
z
z
G z
z
z
z
z
 


3
4
5
6
1
2
3
0.0000273
0.002975
0.0008494
0.001769
1 2.716
2.462
0.7445














q
q
q
q
G q
q
q
q
PID Diskretua 
 
PID
d
i
1
Gc
s
K 1
T s
Ts









 



1
PID
d
1
i
i
1 z
U(z)
T
T
Gc
z
K 1
T s
E(z)
2T
T
T 1 z

















PID Jarraitua 
Simulazioan frogatu diskretizazioa egokia dela.  
Control system Toolbox>> Discretization and Sampling Rate Conversions 
Aplikazio adibidea 46 

37 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
G(z) transferentzia funtzioa lortzeko prozedura: G(s)-ren diskretizazioa 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
Simulazioan frogatu diskretizazioa egokia dela:
 Diskretizazio ezberdinak eta Ts ezberdinak 
 
 
 
Control system Toolbox>> Demos>>Discretization and Sampling Rate Conversions 

38 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
 






1
PID
d
1
i
i
1
p
1
1 z
U(z)
T
T
Gc
z
K 1
T s
E(z)
2T
T
T 1 z
U(z)
Ki
K
Kd 1 z
E(z)
1 z
KT
Ki
Kp
K
K
2Ti
2
KT
Ki
Ti
KTd
Kd
T
























 
 


BEGIN 
  DO FOREVER 
    set point lortu : 
 
 r(kT) 
    Sitemaren irteera lortu :  
y(kT) 
    Errorea kalkulatu:  
 
e(kT)=r(kT)–y(kT) 
    I gaia kalkulatu:  
 
P(kT)=Ki.e(kT)+p(kT-T) 
    D gaia kalkulatu:  
 
q(kT)=Kd.e(kT)–Kd.e(kT-T) 
   PIDren irteera kalkulatu: 
u(kT)=p(kT)+Kp.e(kt)+q(kT) 
   Bidali kontrola moterera 
 
    Gorde aldagaiak:  
p(kT-T)=p(kT) 
 
 
e(kT-T)=e(kT) 
    Hurrengo laginketa-aldirarte itxaron 
  ENDDO 
END 
G(z) transferentzia funtzioaren ezarpena 
Aplikazio adibidea 47 

39 
Prozedura 

Instalazioaren modelaketa 

Kontroladorearen diseinu lineala 

Kontroladorearen diseinu ez lineala. 

Kontroladorearen ezarpena 
3. Gaia. 2. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
1. baliabidea 
G(z) transferentzia funtzioaren ezarpena (Laborategi praktika) 
Berdoitu beharko da 

40 

1.- Kontrol digitala duen sistema 

2.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 1. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 

3.- Laginketa periodoaren hautaketa 

4.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 2. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 
 
Gai-zerrenda: 3. Gaia. 

u(t) 
 
Instalazioa 
 
y(t) 
te 
Ts 
Laginketa periodoa 
DAQ 
Kontroladorea 
DAQ 
Instalazioa 
e(t
k) 
u(t
k) 
y(t) 
u(t) 
r(t
k) 
y(t
k) 
41 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa 
DAQ 
DAQ 
SISTEMA  DIGITALA 
Erreferentzia adierazi 
y(KTs) seinalea eskuratu 
Kontroladorearen kalkuluak (PID) 
u(KTs) seinalea sortu 

Tm 
te 
Laginketa periodoa (Ts): ziklo bat eta hurrengoa hasten deneko denbora. 
Zenbat eta txikiagoa jarraituarekiko berdintasun handiago. 
te << Tm 
42 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa 
Minimo 100 aldiz txikiagoa izan behar da gainontzeko atazak 
garatzeko  eta kontrola zihurtatzeko. 

te << Ts 
 HARDWARE 
eta/edo 
PROGRAMAZIOA 
Kontuan izatekoak: 
Sentsore eta eragingailu egokiak aukeratu. 
Instalazioaren portaeraren azterketa  funtzionamendua, ez 
linealtasunak (saturazioa, zona hila…)  banda zabalera 
fprozesua,  
fprozesua kontuan izanda, erreferentzia seinalea aukeratu 
Kontrol algoritmoaren doiketa (simulazioa): G (s)+ H(s) 
Sistema itxiaren banda zabalera definitu, fbegizta
  
Laginketa maiztasun egokia aukeratu informaziorik ez 
galtzeko: fseinalea 
G(s) diskretizatu: f
dis 
Kontrol algoritmoaren ezarpena hardware egokian: te.  
Bete beharko da te << ts 
 
43 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa 
DAQ 
Kontroladorea 
DAQ 
Instalazioa 
e(t
k) 
u(t
k) 
y(t) 
u(t) 
r(t
k) 
y(t
k) 
fprozesua 
fseinalea 
fbegizta 
fdis 
Ts 
fseinalea 
fprozesua 
fdis 
fseinalea 
te 
fbegizta 

44 
Prozesuaren banda-zabalera (f
0): 
 
0
10
s
f
f
Hz

 
min
min
3
( )
3





s
s
t
s
f
Hz
Lehen mailako modeloekin 
Prozesuaren Settling time (T
st):  
20
100
st
st
s
T
T
T


Bigarren mailako modeloa 
0.25 
0 ts  1.5 
0.7   1 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Instalazioaren ezaugarrien arabera 
 
1
s
K
G s
e
sT




T – Sistemaren denbora-kosntantea 
K sistemaren irabazia 
 – sistemaren atzerapena 
 
1
1


G s
jwT
w
B = 1/T 
Izkina maiztasuna 
Banda-zabalera 
t
st = 2.2 T (10 FV denean) 
t
st = 3 T (5 FV denean) 
Settling time = ezarpen denbora 
FV = Final Value. 
t
r  2 a 3/ wB 
Banda-zabalera 
Jasotze-denbora 
FV-ren 90%-a 
Begizta-itxiaren  banda-zabaleraren arabera (f
BZ): 

S=[10-20]BZ 
Begizta-itxiaren  poloen maiztasunaren arabera: s= j 

S=[10-20] 
Igoera-denboraren arabera (T) 
ts=T/[10-20] 
Perturbazioak eta zaratak ezabatzeko laginketa periodoa ahalik eta txikien 
izan behar da. 
Aplikazio adibidea 48 

45 
Aplikazio adibidea:
 PID digitalaren diskretizazioa. Diseinua denbora jarraituan 
Demagun hurrengo transferentzia-funtzioa duen instalazioa 
1
( )
1
H s
s


Bete behar diren ezaugarri dinamikoak dira: 
 
1. Gaineza maximoa 20 %. 
 
2. Eskaloi sarreraren ondorioz egon daitekeen errorea iraunkorrean: : e
sp=0 
 
3. Sistema konpentsatuaren oszilazio-maiztasuna: 
n=3 rad/s. 
 
Froga itzazu Ts ezberdinak egokia aukeratu arte: 
 
 
T=0.2 s. 
 
 
T=0.1 s. 
 
 
T=0.01 s. 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
2
1
0,3181
100 exp
20
0, 21
1,3181
R







 

2
2
2
2
3
9
n
n
s
s
s
s





 
2
2
2
2
9
2
1.3
9
n
n
n
s
s
s
s









46 
Errorea iraunkerrean zero izan behar denez, PI batekin hasten da diseinua.  
( )
p
i
i
C
p
k s
K
K
G z
K
s
s




Kontrol-egitura horrekin, begizta itxiaren transferentzia-funtzioa lortzen da: 
2
2
( )
( )
( )
(
1)
0
1
( )
( )
(
1)
p
i
C
LC
p
i
C
p
i
k s
k
G s H s
G
s
s
k
s
k
G s H s
s
k
s
k






 




2
2
2
1
2
ln(0,17)
0,3181
100 exp
17
0,564
0,3181(1
)
0,5
1,3181
1
R














 




 


Sistema kontrolatuaren ezaugarri ekuazioaren gaiak  hauek izango dira: 
Non erreferentzia modeloa bigarren mailako sistema dela suposatu dugu. Bestalde, kontroladoreak zero 
bat gehituko dionez begizta-
itxiko funtzioari sistema hori suposatutakoa baino arinagoa izango da, eta 
ondorioz gaineza handiagoa. Ondorio hori
konpentsatzeko gainezaren baldintza txikituko dugu, adibidez 
R=17%. Hala, ekuazioa izango da: 
2
2
2
2
3
9
n
n
s
s
s
s





 
2
2
1 3
2
3
9
(
1)
9
p
p
p
i
i
k
k
s
s
s
k
s
k
k
  


  


  


Nahiko ekuazio daudenez aldagaiak askatzeko, PI-arekin nahikoa dugu.  
Begizta itxiko ekuazioak eta erreferentzia sistemarena berdinduz: 
Aplikazio adibidea: PID digitalaren diskretizazioa. 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 

47 
Kontroladorea diskretizatzen dugu metodoren bat aplikatuz, adibidez, Euler 
(Backward): 


2 9.
2
( )
1
1
( )
.
( )
:
( )
( )
2 9
( )
1
( )
1
1
1
PI
p
i
PI
C
p
i
z
T
U s
Tz
U z
Tz
T z
G
s
k
k
Euler
G
z
G z
k
k
E s
s
s
z
E z
z
z
z












 





3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea: PID digitalaren diskretizazioa. 
( )
3,8
2
0.2
( )
( )
1
C
U z
z
T
s
G z
E z
z






Simulazio numerikoa egin dezakegu sistemaren eskaloi erantzuna aztertzeko 
(s vs. z): 
Oria: PID(s) 
Magenta: 0.2s 
Cyan: 0.1S 
Gorria: 0.01 
Berdea: PID (z) 
 
Bukatzeko, PAC-ean ezarriko dugun kontroladorea izango da (T=0.2s): 


1
1
1
1
1
( )
3,8
2
3,8 2
( )
( )
( )(1
)
( ) 3,8 2
( )
3,8 ( ) 2 (
1)
(
1)
( )
1
1
PI
C
U z
z
z
G
z
G z
U z
z
E z
z
Z
u k
e k
e k
u k
E z
z
z



















 




48 
Laginketa periodoa aukeratu behar da. Erreferentzia modeloaren maiztasun naturala hartuta:
 
3
/ .
0.5
1.5
2.5981
n
rad s
P
j




 

3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea: PID digitalaren diskretizazioa. 


2
2
10 20
26
/ .
0, 24
0, 2 .
26
s
p
p
rad s
T
s







 



 
2
2
2
2
n
n
n
G s
s
s






 
2
1
1 2
n
n
G jw
j
j







 




 


 

2
1
n
n
P
j

 
 


wn=3; 
damping_ratio=0.5; 
[num0,den]=ord2(wn,damping_ratio); 
num=3^2*num0; 
printsys(num,den,'s') 
sys=tf(num,den); 
P=pole(sys); 
 

49 
Portaera-erreferentzia daukagu. Bertatik atera ditzakegu 
Design Optimization sartu behar diren parametroak. 
Egin daiteke eskuz edo LTIViewer erabiliz. 
Eskuz ateratzen dut: 
Ymax(Overshoot)=1.163  90%=1.0467  trise= 0.9 
Ysetting, %2 de 1  y=0.98  tsetting=2.751 
Ymin= 0.974 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea:
 PID digitalaren diskretizazioa. Simulink Design Optimization 
Eskuz 

50 
Kp= 0.2612 
Ki=9.0037 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea: PID digitalaren diskretizazioa. 

51 
LTI Viewer erabiliz 
sys=tf(num,den); 
ltiview=(sys) 
trise= 0.547 
Pik=1,16 at t=1,22 
tsetting=2.69 
Ymin= 0.974 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea: PID digitalaren diskretizazioa. 

52 
3. Gaia. 3. atala. Laginketa periodoaren hautaketa. Diskretizazioaren arabera. Aplikazio adibidea:
 PID 
Aplikazio adibidea: PID digitalaren diskretizazioa. 

53 

1.- Kontrol digitala duen sistema 

2.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 1. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 

3.- Laginketa periodoaren hautaketa 

4.- kontrol digitala diseinatzeko eta ezartzeko prozedura: 2. baliabidea  
– Instalazioaren modelaketa  
– Kontroladorearen diseinu lineala 
– Kontroladorearen diseinu ez lineala 
– Kontroladorearen ezarpena. 
 
Gai-zerrenda: 3. Gaia. 

54 
DAQ 
Kontroladorea 
DAQ 
y(t) 
u(t) 
r(t
k) 
Instalazioa 
- 
G(z) 
Erreferentzia 
+ 
DAQ 
DAC 
DAQ 
ADC 
u(t) 
y(t) 
H(z) 
H(z) 
G(z) 
Diskretuan diseinatu: Instalazioa diskretua + kontroladorea diskretua 
G(z) ezarri PAC batean 
u[k] 
y[k] 
e[k] 
u[k] 
y[k] 
e[k] 
Prozesua: 
ergingailuak+instalazioa+
sentsoreak 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 

55 
Kontroladorearen diseinua eta ezarpena 2. baliabidearen bitartez 
4.1 Instalazioaren modelaketa 
 Instalazioaren modeloa denbora jarraituan 
 Instalazioaren modeloaren
parametroak estimatu Simulink Design Optimization erabiliz 
 Instalazioaren diskretizazioa: H(z) lortu ZOH bihurketa aplikatuz. 
 
4.2 Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua dela medio (metodo analitikoa) 
 
4.3 Kontroladore diskretuaren parametroak doitu 
(Simulink Design Optimization) . 
 
4.4. Begizta itxiaren azterketa laginketa maiztasun ezberdinak erabiliz. 
 
4.5 Kontroladorearen ezarpena sistema digital batean 
Prozedura 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 

56 
Bihurketak kontuan dauka DAQ dela Zero Order Hold (ZOH) 
(
)
(
)
0
y kT
t
u kT
t
T
 
 
ZOH-ren TF-a lortzen da pultsu-erantzunari (T denbora-
iraupeneko eskaloia)  Laplace aplikatuz: 
0
1
1
( ) 1( ) 1(
)
( )
( )
( )
sT
sT
imp
imp
h
ZOH
e
e
y
t
t
t T
L
Y
s
G
s
G
s
s
s
s






 


 

H(s) instalazioaren aurretik ZOH-a dugunean, bere baliokide diskretua da: 


1
1
( )
( )
( )
( )
( )
(1
)
sT
ZOH
e
H s
H z
Z G
s H s
Z
H s
z
Z
s
s











 









7. Ariketa: Demagun instalazio baten transferentzia funtzioa dela: 
Kalkula ezazu bere baliokide diskretua 
( )
( )
( )
Y s
K
G s
U s
s
a



Suposatuko dugu bere sarreran DAC (ZOH)-a dugula eta
horren irteera lagintzen dugula.  
Sistema bietan T=0,2 s
erabiltzen da. Kalkula ezazu emaitz numerikoa k=a=1 denean. 
Matlab-ekin lortzen da: c2d(H, T). 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.1.  Instalazioaren modelaketa 
 Instalazioaren diskretizazioa: H(z) lortu ZOH bihurketa aplikatuz. 

57 
Kontroladorea kalkulatu behar da sistema itxiaren portaera nahi  duguna izan dadin, hots, G
ref(z): 
( )
( )
(1)
1
( )
( )
ref
C
ref
G
z
G z
G
z
H z






4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua dela medio (metodo analitikoa) 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
Helburua: Sistemaren portaera bat nahi dugu (G
ref) , gure H(z)-k ez duena  kontroladorea+LC behar da 
H(z) 
R 
Y 
H(z) 
Gc(z) 
R 
Y 
( )
( )
( )
( )
1
( )
( )
C
LC
ref
C
G z H z
G
z
G
z
G z H z



H(z)-k zero ezegonkorra balu  Gc(z)H(z)-k egin behar duena da
kantzelatu zero ezegonkor hori  
H(z)-k polo ezegonkorra balu  1+Gc(z)H(z)-rekin lortu behar da egonkortasuna. 
( )
1
( )
.
.
1
( )
( )
1
ref
Gref
H
C
Gref
H
ref
Gref
Gref
G
z
Zero
Polo
G z
Polo
Zero
G
z
H z
Zero
Polo
















Arazoa: Daukagun H(z) ez da erreala  poloak eta zeroak ez dira benetakoak.  

58 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua dela medio (metodo analitikoa) 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
Arazoa: Daukagun H(z) ez da erreala  poloak eta zeroak ez dira benetakoak.  
( )
( )
( )
( )
1
( )
( )
C
LC
ref
C
G z H z
G
z
G
z
G z H z



( )
1
( )
.
.
1
( )
( )
1
ref
Gref
H
C
Gref
H
ref
Gref
Gref
G
z
Zero
Polo
G z
Polo
Zero
G
z
H z
Zero
Polo
















Demagun benetako zero ezegonkorra dela β eta modeloarena (uste duguna) β’.  
Kalkulatu dugun Gc-n β’ agertuko da, baina G
lc-ren H-an β. 
1
( )
( )
.
.
.
'
1
Gref
H
C
Gref
H
H
Gref
Gref
Zero
Polo
G z H z
Polo
Polo
Zero
Polo












Ondorioa: β zero ezegonkorra ez da ezabatu eta polo ezegonkor bat agertu da
(β’)  
 
G
ref TF-
an β’ zero egonkorra gehitzen badugu, kantzelazioa agertuko da. Horrela ez da
polo 
ezegonkorrik gehituko. Zero ezegonkorra (β) ere ez da desagertzen. 
 
G
ref aldatuko da  Gref_hasiera  Gref_bukaera 
'
H


pseudoezabaketa 

59 
Hortaz, nahi dugun portaera-
kontrolatua egonkorra izan dadin eta kontroladorea garakorra izan dadin 
hurrengo baldintzak kontuan izan behar dira  G
ref(z) definitzen dugunean: 
 
A baldintza:
 instalazioaren polo ezegonkorren pseudoezabaketak ezin dira gertatu  
modelaketa-erroreek sistema-kontrolatuaren ezegonkortzea bideratuko luketelako 
 
B baldintza:
 instalazioaren zero ezegonkorren pseudoezabaketak ezin dira gertatu modelaketa-
erroreek mugarik gabeko seinaleak  
(kontroladore ezegonkorra) emango lituzkelako. 
 
C baldintza: kontroladorea fisikoki garakorra izan behar da
(kausala). Horretarako, zenbakitzailearen 
maila izendatzailearena baino handiago edo berdina izan behar da.  
 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua dela medio (metodo analitikoa) 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 

60 
A baldintza:
 instalazioaren polo ezegonkorren pseudoezabaketak ezin dira gertatu  
modelaketa-erroreek sistema-kontrolatuaren ezegonkortzea bideratuko luketelako 
1
mod
1
( )
(
')
( )
( )
( )
'
( )
( )
( )
( )
'
1
( )
( )
1
( )
( )
p
ref
C
eloa
C
LC
ref
C
ref
p
H
z
z
G
z
G z H z
z
H
z
G z
G
z
G
z
z
G z H z
z
G
z
H
z




















Demagun z= α’-n modelizatu den polo ezegonkorra eta bere kokapen-
erreala dela z= α . G
C(z) 
lortzeko (1) erabiltzen bada, begizta-itxia ezegonkorra agertuko da: 
Hori sahiesteko G
ref(z) aukera daiteke: 
(
') ( )
1
( )
( )
ref
z
A z
G
z
B z




Hala, kontroladorea izango da 
1
( )
( )
( )
( )
( )
ref
C
p
G
z
G z
A z
H
z
B z

Hots, sistema kontrolatuaren portaera G
ref(z)-ak deskribatutakoa izango da 
( )
( )
(
)
(
')
1
( )
( )
( )
ref
A z
A z
z
z
G
z
B z
B z



 
 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 
( )
( )
1
( )
( )
ref
C
ref
G
z
G z
G
z
H z






Ez da ezabatu eta horrez gain zero ezegonkorra 
agertu da begizta itxia ezegonkorra 
pseudoezabaketa 
Eta Glc(z) 
 
 
( )
( )
( )
( )
1
( )
( )
(
)
( )
ref
ref
LC
ref
ref
ref
ref
G
z
G
z
G
z
G
z
A z
G
z
G
z
z
G
z
B z












non 

61 
B baldintza:
 instalazioaren zero ezegonkorren pseudoezabaketak ezin dira gertatu modelaketa-
erroreek mugarik gabeko seinaleak  
(kontroladore ezegonkorra) emango lituzkelako. 


2
2
2
2
( )
( )(
)
( )
( )
( )
( )
( )
( )
1
( )(
)
( )
1
( ) (
)
( )
ref
C
p
p
C
LC
ref
C
p
ref
p
G
z
G z z
H
z
H z
z
H
z
G z
G
z
G
z
G z z
H
z
G
z
z
H
z




















Demagun z=β -n modelizatu den zero ezegonkorra. G
C(z) lortzeko (1) erabiltzen bada, kontroladore 
ezegonkorra lortzen da, hots, kontrol-seinalea ez da mugatuta egongo: 
Modeloek beti erroreak dituztela dakigu. Errore horiek direla eta, zeroa modelatuko da z= β’ –n  eta 
sistema kontrolatua, benetan, izango da:  
2
2
( )(
)
( )
( )
( )
1
( )(
')
( )
C
p
LC
ref
C
p
G z z
H
z
G
z
G
z
G z z
H
z







Pseudoezabaketen ondorioa da begizta itxia ezegonkorra izango dela ere. 
 
Hortaz, erreferentzia-
modeloak arazoa sortzen duten zero horiek euki beharko ditu: 
1
( )
(
')
( )
ref
ref
G
z
z
G
z

 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 

62 
C baldintza: kontroladorea fisikoki garakorra izan behar da
(kausala). Horretarako, zenbakitzailearen 
maila izendatzailearena baino handiago edo berdina izan behar da.  
Garatu ezin den kontroladore baten adibidea: 




2
2
2
( )
4
1
4
1
( )
( )
( )
3
( )
4
1
( )
( )
3
3
c
U z
z
z
z
z
G z
U z
E z
z
U z
z
z
E z
E z
z
z















Ezarpena egiteko (garapen fisikoa), Z antitransformatua aplikatu behar da
eta kontrol-algoritmoa 
deskribatzen duten diferentzia-ekuazioak lortu u(k) laginketa une bakoitzeko. 




2
1
1
3
( )
4
1
( )
(1 3
) ( )
(
4
) ( )
z
U z
z
z
E z
z
U z
z
z
E z






 
  
Z antitransformatua aplikatuz eta u(k) askatuz: 
( ) 3 (
1)
(
1) 4 ( )
(
1)
( )
(
1) 4 ( )
(
1) 3 (
1)
u k
u k
e k
e k
e k
u k
e k
e k
e k
u k

 
 

 

 

 

u(k) ezartzeko, kontroladorearen sarreraren balioa hurrengo unean
ezagutu behar da (ez kausala) 
Bestalde, (1) adierazpenatik abiatuz lor daiteke:  
 G
C(z)-ren polo-zero soberakin = Gref(z)- ren  polo-zero soberakin- H(z)-
ren polo-zero soberakin 
 
Hortaz, G
C(z) garakorra izan dadin (polo-zero soberakina positiboa edo zero) bete
behar da;  
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 
Hori lortzeko, dinamikan eraginik ez duten poloak gehitzen dira jatorrian 
(z=0) 
Gref(z)- ren  polo-zero soberakin  H(z)-ren polo-zero soberakin 
( )
( )
1
( )
( )
ref
C
ref
G
z
G z
G
z
H z







63 
Irabazia doitu: Azaldu diren hiru baldintzak betetzeko hasierako erreferentzia-
modeloa G
ref_hasiera(s). 
moldatu egin behar da. Alabaina, aldaketa horiek ez dute eraginik izango begizta itxiarekin lortu nahi 
den dinamikan, zeroak edo atzerapen puruak (z=0-
n poloak), soilik,  gehitzen baitituzte.  
 
Aldatuko den parametroa da irabazia egonkorrean. Horregaitik kontrol-
begiztaren at beste zuzenketa 
gehitu behar da.  
 
Begizta itxiaren TF berria da: 
( )
( )
' ( )
( )
1
( )
( )
C
LC
LC
C
G z H z
G
z
K
K G
z
G z H z
 
 

Irabazia zuzentzeko egin behar da: 
_
1
_
1
1
1
lim
( )
lim
( )
lim
( )
lim
( )
ref
ini
z
LC
ref
ini
z
z
LC
z
G
z
K G
z
G
z
K
G
z








H(z) 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 

64 
8. ariketa: Demagun sistema bat deskribatzen dela TF diskretuarekin: 
1
( )
(
2)
z
H z
z z



Zuzeneko diseinua aplikatuz, kalkula ezazu kontroladorea sistemaren dinamika izan dadin:
 
1
( )
0.7
ref
G
z
z


3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 
b) a0 = 1 



 2
1
0, 266
(
1)
0, 266
( )
(
1)
.
0.7
0.7
ref
z
z
z
G
z
z
z z
z
z
z



 





2
0, 266
( )
0,3
0,133
c
z z
G z
z
z









2
1
0, 266
( )
0, 7
LC
z
z
G
z
z
z




K=0,681 


1
( )
(
1)
.0,866
0.7
ref
G
z
z
z z
 

0,866
( )
0, 433
C
z
G z
z






0,866
1
( )
0, 7
LC
z
G
z
z z



K=0,57 

65 
9. ariketa: Demagun sistema bat deskribatzen dela TF jarraituarekin 
2
( )
(
1)
s
H s
s s



ZOH erretenedorea dela medio kontroladore digitalak instalazioa maneiatuko du. Metodo analitikoa 
aplikatuz kontroladorea defini ezazu hurrengo portaera lortzeko: 
 
 
1. Gaineze maximoa: R=20 %. 
 
2. Ezarpen-denbora: t
s=6,667 s. 
 
3. Eskaloi sarreraren ondorioz iraunkorrean egon daitekeen errorea: e
sp  10 %. 
 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
4.2.  Kontroladore diskretuaren  egituraren  diseinua 
(Control System Toolbox+Simulink 
Design Optimization)  zuzeneko diseinua del medio (metodo analitikoa) 
 
2
1
1, 22
0,54
ref
G
z
z
z








0, 607
0,351
( )
1
0, 607
z
H z
z
z




2
0,32
( )
.
1, 22
0,54
ref
G
z
z
z








0,527
0, 607
( )
0, 22
0,351
C
z
G z
z
z




K=1 

66 
Aplikazio-adibidea : PID digitala 
 
10. ariketa: Sistema jarraituaren transferentzia funtzioa dugu 
1
( )
1
H s
s


4.4. Begizta itxiaren azterketa laginketa maiztasun ezberdinak erabiliz. 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
Zuzeneko diseinua erabiliz, ZOH erretenedorea erabiliz instalazioa maneiatzeko eta laginketa periodo 
ezberdinak erabiliz lor itzazu hurrengo ezaugarri dinamikoak : 
 
1. Gaineza maximoa 20 %. 
 
2. Eskaloi sarreraren ondorioz egon daitekeen errorea iraunkorrean: : e
sp=0 
 
3. Sistema konpentsatuaren oszilazio-maiztasuna: 
n=3 rad/s. 
 
 
 
T=0.2 s. 
 
 
T=0.1 s. 
 
 
T=0.01 s. 

67 
10.2 ariketa: Zuzeneko diseinua. 
Abiapuntutzat begizta-itxia (LC) hibridoa hartuko dugu: 
H(s) 
Sistema hori, sistema digital batean bihurtzen da
instalazioaren baliokide diskretua lortzen denean: 


1
1
1
1
1
1
1
( )
( )
( )
(1
)
(1
)
(
1)
(
1)
1
T
ZOH
T
T
z
z
z
e
H z
Z G
s H s
z
Z
z
Z
s s
s
s
z
z
z e
z e














 
 





















H(z) 
Falta dena da begizta itxiaren (LC) TF
diskretua. Horretarako PI kontroladorearen adierazpena behar da: 
(
)
( )
1
1
( )
( )
:
( )
( )
( )
1
( )
1
1
p
i
p
PI
p
i
PI
C
p
i
k
Tk z
k
U s
Tz
U z
Tz
G
s
k
k
Euler
G
z
G z
k
k
E s
s
s
z
E z
z
z
















Hortaz, 
( )
( )
( )
1
( )
( )
C
LC
C
G z H z
G
z
G z H z


Baina garatzeko laginketa maiztasuna definitu behar da. 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
Aplikazio-adibidea : PID digitala 

68 
10.2.1. ariketa: Zuzeneko diseinua. PI eta T=0,2 s. 
H(z) izango da: 
0,2
0,2
1
1
0,181
( )
0,819
T
T
e
e
H z
z e
z e
z












LC-ren ekuazio karakteristikoa da: 

 

2
(
0, 2 )
0,181
1
( )
( )
0
1
0
0,181
0, 0362
1,819
0,819 0,181
0
1
0,819
p
i
p
C
p
i
p
k
k z
k
G z H z
z
k
k
z
k
z
z



  

 








Lortu nahi dugun portaera deskribatzen duen sistema kontrolatuaren polo jarraituak diskretizatuz lortzen 
da lortu nahi den ekuazio karakteristiko diskretua. Metodorik egokiena da
poloen-berdinketa (ez da 
behar irabazia doitzea) z=esT 
1,2
2
0,3
0,52
1,2
1,2
3
9
0
1,5
2, 6
0, 74(cos(0,52
)
sin(0,52
))
0, 643
0, 368
s T
j
s
s
s
j
z
e
e
e
rad
j
rad
j


   
 








Hortik, lortu nahi den ekuazio karakteristiko diskretua da: 
2
(
0, 643
0,368)(
0, 643
0,368)
1, 286
0,5489
0
z
j
z
j
z
z








H(Z)-ak polo
eta zero ezegonkorrak ez dituenez eta polinomioen dimentsioak bat datozenez, 
erreferentzia modeloaren ekuazio karakteristikoa ez da aldatu behar 
(1, 2 eta 3 baldintzak). Maila 
berdina duten operadorearen koefizienteak berdinduz: 
8,819 0,5489
0,819 0,181
0,5489
1, 492
0,181
1, 286 1,819 0,181
0,181
0, 0362
1,819
1, 286
7, 264
0, 0362
p
p
p
p
i
i
k
k
k
k
k
k











 
 

3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
Aplikazio-adibidea : PID digitala 
ref
G
ref
G
LC
G

69 
(
0, 2 )
(1, 492 0, 2 7, 264)
1, 492
2,945
1, 492
( )
1
1
1
p
i
p
C
k
k z
k
z
z
G z
z
z
z












PAC-ean ezarri behar den kontroladorea da: 


1
1
1
1
1
( )
2,945 1, 492
( )
( )
( )(1
)
( ) 2,945 1, 492
( )
2,945 ( ) 1, 492 (
1)
(
1)
( )
1
PI
C
U z
z
G
z
G z
U z
z
E z
z
Z
u k
e k
e k
u k
E z
z

















 


Sistemaren erantzunaren simulazio numerikoa da (s vs. z): 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.1. ariketa: Zuzeneko diseinua. PI eta T=0,2 s. 
PI kontroladore diskretua zen: 
Aplikazio-adibidea : PID digitala 

70 
0,1
0,1
1
1
0, 0951
( )
0,9048
T
T
e
e
H z
z e
z e
z












LC diskretuaren ekuazio karakteristikoa da: 

 

2
(
0,1 )
0, 0951
1
( )
( )
0
1
0
0, 0951
0, 00951
1,9048
0,9048 0, 0951
0
1
0,9048
p
i
p
C
p
i
p
k
k z
k
G z H z
z
k
k
z
k
z
z



  

 








1,2
2
0,15
0,26
1,2
1,2
3
9
0
1,5
2, 6
0,861(cos(0, 26
)
sin(0, 26
))
0,832
0, 221
s T
j
s
s
s
j
z
e
e
e
rad
j
rad
j


   
 








2
(
0,832
0, 221)(
0,832
0, 221)
1, 664
0, 741 0
z
j
z
j
z
z








0,9048 0, 741
0,9048 0, 0951
0, 741
1, 722
0, 0951
1, 664 0, 0951
1,9048
0, 0951
0, 00951
1,9048
1, 664
8, 097
0, 00951
p
p
p
p
p
i
i
k
k
k
k
k
k
k











 
 

3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.2. ariketa: Zuzeneko diseinua. PI eta T=0,1 s. 
H(z) da: 
Aplikazio-adibidea : PID digitala 
Lortu nahi dugun portaera deskribatzen duen sistema kontrolatuaren polo jarraituak diskretizatuz lortzen 
da lortu nahi den ekuazio karakteristiko diskretua. Metodorik egokiena da
poloen-berdinketa (ez da 
behar irabazia doitzea) z=esT 
Hortik, lortu nahi den ekuazio karakteristiko diskretua da: 
H(Z)-ak polo
eta zero ezegnkorrak ez dituenez eta polinomioen dimentsioak bat datozenez, erreferentzia 
modeloaren ekuazio karakteristikoa ez da aldatu behar 
(1, 2 eta 3 baldintzak). Maila berdina duten 
operadorearen koefizienteak berdinduz: 

71 
(
0,1 )
(1, 722 0,1 8, 097)
1, 722
2,532
1, 722
( )
1
1
1
p
i
p
C
k
k z
k
z
z
G z
z
z
z














1
1
1
1
1
( )
2,532 1, 722
( )
( )
( )(1
)
( ) 2,532 1, 722
( )
2,532 ( ) 1, 722 (
1)
(
1)
( )
1
PI
C
U z
z
G
z
G z
U z
z
E z
z
Z
u k
e k
e k
u k
E z
z

















 


3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.2. ariketa: Zuzeneko diseinua. PI eta T=0,1 s. 
PI kontroladore diskretua zen: 
Aplikazio-adibidea : PID digitala 
PAC-ean ezarri behar den kontroladorea da: 
Sistemaren erantzunaren simulazio numerikoa da (s vs. z): 

72 
0,01
0,01
1
1
0, 00995
( )
0,999005
T
T
e
e
H z
z e
z e
z













 

2
(
0, 01 )
0, 00995
1
( )
( )
0
1
0
0, 00995
0, 000995
1,99005
0,99005 0, 00995
0
1
0,999005
p
i
p
C
p
i
p
k
k z
k
G z H z
z
k
k
z
k
z
z



  

 








1,2
2
0,015
0,026
1,2
1,2
3
9
0
1,5
2, 6
0,98478(cos(0, 026
)
sin(0, 026
))
0, 98478
0, 02561
s T
j
s
s
s
j
z
e
e
e
rad
j
rad
j


   
 








2
(
0,98478
0, 02561)(
0,98478
0, 02561)
1,96955
0,97044
0
z
j
z
j
z
z








0,97044 0,99005
0,99005 0, 00995
0,97044
1,971
0, 00995
1,96955 1,99005 0, 00995
0, 00995
0, 000995
1,99005
1,96955
8,940
0, 000995
p
p
p
p
i
i
k
k
k
k
k
k












 
 

3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.3. ariketa: Zuzeneko diseinua. PI eta T=0,01 s. 
H(z) da: 
Aplikazio-adibidea : PID digitala 
LC diskretuaren ekuazio karakteristikoa da: 
Lortu nahi dugun portaera deskribatzen duen sistema kontrolatuaren polo jarraituak diskretizatuz lortzen 
da lortu nahi den ekuazio karakteristiko diskretua. Metodorik egokiena da
poloen-berdinketa (ez da 
behar irabazia doitzea) z=esT 
Hortik, lortu nahi den ekuazio karakteristiko diskretua da: 
H(Z)-ak polo
eta zero ezegnkorrak ez dituenez eta polinomioen dimentsioak bat datozenez, erreferentzia 
modeloaren ekuazio karakteristikoa ez da aldatu behar 
(1, 2 eta 3 baldintzak). Maila berdina duten 
operadorearen koefizienteak berdinduz: 

73 
(
0, 01 )
(1,971 0, 01 8,940)
1,971
2, 060
1,971
( )
1
1
1
p
i
p
C
k
k z
k
z
z
G z
z
z
z














1
1
1
1
1
( )
2, 060 1,971
( )
( )
( )(1
)
( ) 2, 060 1,971
( )
2, 060 ( ) 1,971 (
1)
(
1)
( )
1
PI
C
U z
z
G
z
G z
U z
z
E z
z
Z
u k
e k
e k
u k
E z
z

















 


3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.3. ariketa: Zuzeneko diseinua. PI eta T=0,01 s. 
PI kontroladore diskretua zen: 
Aplikazio-adibidea : PID digitala 
PAC-ean ezarri behar den kontroladorea da: 
Sistemaren erantzunaren simulazio numerikoa da (s vs. z): 

74 
Sistema errealaren portaera ez da
aldentzen baliokide diskretuak deskribatzen duen dinamikatik 
laginketa une artean. 
3. Gaia. 4. atala. kontrol digitala diseinatzeko eta ezartzeko prozedura 
2. baliabidea 
10.2.3. ariketa: Zuzeneko diseinua. PI eta T=0,01 s. 
Simulink-en garatzen dugu sistema hibridoa: 
Aplikazio-adibidea : PID digitala 
