    1  Helburua: Denbora errealeko sistemaren egitura eta softwarea  maneiatzea    Erabiliko den hardwarea izango da Host PC bat eta Target PC bat. Target PC- an simulink modeloa  exekutatuko da.    Matlab-en eskuragarri daukazun laguntza erabil ezazu.  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa Matlab ingurunean   2  TCP/IP  Target PC  1.- Abiarazi eta xPCTarget-aren kernel-a kargatuta  2.- Aplikazioa deskargatzearen zain.  Host PC  1.- Simulik-en aplikazioa garatu  2.- Konpilatu agiten da eskema eta .dlm  fitxategia sortzen da target-era bidaltzeko  3.- Deskargatu  Hardware eskema  1.- Konpiladorearen ezaugarriak konfiguratu  2.- Target-aren sare-ezaugarriak konfiguratu  3.- Boot diskoa sortu  4.- Test-a egin  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu konpilazio  egokia burutzeko.  7.- Konpilatu  8.- xPCtarget-ean exekutatu  Eman behar diren urratsak  CD-tik abiarazi   Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa Matlab ingurunean  Laborategian  monitore bakarra  dago bi PC-ak  maneiatzeko   3  >> xpcexplr  >> xpctest  xPC Target Explorer  Urratsak  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa  1.- Konpiladorearen ezaugarriak konfiguratu  2.- Target-aren sare-ezaugarriak konfiguratu  3.- Boot diskoa sortu  4.- Test-a egin  Eman behar  diren  urratsak  2.- Ezaugarriak konfiguratu  3.- Boot diskoa sortu  4.- Test-a egin   4  Simulink modeloa (Basic Tutorial. Simulink model)    Aplikazioaren garapena  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa  Transferentzia-funtzioa sartu simulink eskeman (10000/s2+70s+10000)   Seinale karratua aplika egiozu: Anplitudea 1 eta maiztasuna 5 Hz  Sarrera eta irteera seinaleak host scope-an ikusi behar dira.  Sarrera eta irteera datuak workspace-ren aldagaietan gorde behar dira  Ohar zaitez exekuzio-denboraz.  Host-en simulazioa  Target-ean exekutatzeko modeloa  a.- Target-ean exekutatzeko konfigurazioa  b.- Simulink modekia target-ean exekutatzeko  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu  konpilazio egokia burutzeko.  7.- Konpilatu  8.- xPCtarget-ean exekutatu  Urratsak   5  Simulink modeloa (Basic Tutorial. Simulink model)  Aplikazioaren garapena  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa  a.- Target-ean exekutatzeko konfigurazioa  Konpilaziorako ezaugarriak konfigratu:   Simulation>>Configuration parameters>> Real-Time workshop --  System Target file>> xpctarget.tlc                    Xpctarget options >> execute mode – RT  eta denborari dagozkion atalak konfiguratu.  Solver >> Start time y Stop Time (20 segundu)                    Solver options: Fixed-step.     Solver: ode4 (Runge-kutta)                            Fixed-step size (fundamental sample time): 0.002  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu  konpilazio egokia burutzeko.  7.- Knpilatu   8.- xPCtarget-ean exekutatu  Urratsak  Simulazioak 20 s iraun behar du  Target-a aukeratu behar da eta denborari dagozkion atalak konfiguratu   6  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa  Simulink modeloa (Basic Tutorial. Simulink model)  b.- Target-ean exekutatzeko modeloa  Sarrera eta irteera seinaleak target-ean ikusgarrri izango dira.  Jarrita dituzun scope-ak xPCScopez ordezkatu behar dituzu.   Eskuragarri dituzu: xPCTarget >> Misc liburutegian.  Scopearen ezaugarriak konfigura itzazu kontuan izanda hartuko diren laginak  (20/0.002)  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu  konpilazio egokia burutzeko.  7.- Konpilatu  8.-  xPCtarget-ean exekutatu  Urratsak   7  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa  Simulink modeloa (Basic Tutorial. Simulink model)  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu  konpilazio egokia burutzeko.  7.-  Konpilatu  8.- xPCtarget-ean exekutatu  Urratsak  Tools >> Real-Time Workshop>>Build Model.  Adi egon Workspace-en konpilazio akatsik ez daudela  Target-ean exekutatu: xpcexplr   Target>>Conect to Target  Application> start aplication  Adi: scope-ak abiarazi behar dira  5.- Simulink eskema garatu  6.- Erabiliko den target-a aukeratu  konpilazio egokia burutzeko.  7.-  Konpilatu  8.- xPCtarget-ean exekutatu  Urratsak   8  Eskumako botoia View scope + start  Eskumako botoia start  Host scopean, eskumako botoia eta export  Aplikazioa exekutatu  Laborategi Praktika. Denbora errealeko (RT) sistemen gestioa   1  TCP/IP  Sistema  Host PC  Oroitzeko: 1. praktika: Denbora errealeko (RT) sistemen gestioa  2. Praktika. Datu-eskuratze eta datu-sortzea. 1. atala  2. praktika  Helburua:   Target-instalazioa interakzioa  1) DAQ-rekin ohitu  2) Seinale analogikoak sortu eta eskuratu  Target PC  Prozedura:  0) Hardwarea testeatu  1)Senoidal ziklo baten puntuak sortu  2) Puntu horiek target-ak ulertzen duen artxibora  bihurtu. Artxibo hori target-ean jarri.  3) Senoidala sortzeko eskema egin eta sortu senoidala.  4) Senoidala eskuratu eta datuak artxiboan gorde.  KONTUZ KONEXIOEKIN   1  Drive: H-Zubia  3. Praktika.   Helburu_1:  Praktikaren helburu bat da digitlaki PWM seinalea sortzea motorearen abiadura aldatzeko. Horretarako,  motorea eta irteera digitalaren artean H- zubia jartzea derrigorrezkoa izango da.   Helburu_2:  Motorearen abiadura digitalki aldatzea lortu ondoren, motorearen abiadura ezagutzea ezinbestekoa da. Hala,  motorearen ardatzean jarrita dagoen enkoderraren irteerak irakurri eta interpretatu beharko dira.  3. praktika. 1. saioa.  Helburu_1: PWM seinalea sortu kontadorea eta irteera digitalal erabiliz.  Helburu_2:  Kontadorearen irakurketarekin motorearen abiadura ondorioztatuko da  rpm unitateetan. Atal hau garatzeko  Encoder Simulatzailea erabiliko da.   3. Praktika. Datu-eskuratze eta datu-sortzea. 2. atala   1  Drive: H-Zubia  3. Praktika.   Helburu_1: Praktikaren helburu bat da digitalki PWM seinalea sortzea motorearen abiadura aldatzeko. Horretarako,  motorea eta irteera digitalaren artean H-zubia jartzea derrigorrezkoa izango da.   Helburu_2:  Motorearen abiadura digitalki aldatzea lortu ondoren, motorearen abiadura ezagutzea ezinbestekoa da. Hala,  motorearen ardatzean jarrita dagoen enkoderraren irteerak irakurri eta interpretatu beharko dira.  3. praktika. 2. Saioa. (motorearekin).  Helburu_1: PWM seinalea sortu kontadorea erabiliz. Motorea kabletatu ezazu eta abiadura aldaketa beha ezazu.  Helburu_2:   Kontadorearen irakurketarekin motorearen abiadura ondoriozta ezazu rpm unitateetan.   Helburu_3:  Motorearen abiadura maximoa eta ez-linealtasunak defini itzazu.   3. Praktika. Datu-eskuratze eta datu-sortzea. 2. Atala. 2. saioa   2  Jarriatu behar diren urratsak :  1.- PWM-a sor ezazu eta osziloskopioan beha ezazu..   2.- Motorea PWM-arekin elikazeko H-zubia ezinbestekoa da. Gogora ezazu DIR seinaleak parte hartzen  duela. DIR hori garatzeko irteera digital bat aukera ezazu. Hortaz, simulink eskeman irteera digitala  maniatzen duen blokea gehi ezazu. Irteera horren bitartez H- zubiak behar duen DIR seinalea bideratuko  duzu.  2.- PC+H-zubia+motorea sistema garatzeko konexio- eskema eskuragarri daukazu. Kablea ezazu sistema eta  elikatu aurretik irakasleari erakutsi egiozu,  3.-  DIR balioa aukera ezazu eta exekuzioan finko manten ezazu. Duty Ciclea  (DC) alda ezazu. Motorea  ez ezazu mantentu debora luze biratzen. Exekuzioa geldi ezazu eta DIR balioa alda ezazu. Beha ezazu  motoreak bira-norantza aldatu duen. DIR balio bakoitzari dagokion norantza defini ezazu (rpm + edo -)    3. praktika. 2. Saioa. (motorearekin).  Helburu_1: PWM seinalea sortu kontadorea erabiliz. Motorea kabletatu ezazu eta abiadura aldaketa beha ezazu.  Helburu_2:  Kontadorearen irakurketarekin motorearen abiadura ondoriozta ezazu rpm unitateetan.   Helburu_3:  Motorearen abiadura maximoa eta ez-linealtasunak defini itzazu.  Eskuragarri izan behar den materiala: Puzzle 2.2  - PWM-a sortzeko eta enkoderraren irakuketa egiteko Simulink eskemak  (3. Praktika, 2. Atala, 1. Saioa)  - H-zubia: funtzionamendua eta murrizketak  - PC+H-zubia+motorea sistema garatzeko konexio-eskema  3. Praktika. Datu-eskuratze eta datu-sortzea. 2. Atala. 2. saioa   3  Jarriatu behar diren urratsak :  1.-  Motoreak duen zamaren abiadura irakutzeko Simulink eskema exekuta ezazu. Gogora ezazu 1: 53  erreduzitzaile duela eta hori Simulink eskeman adierazi behar da.  2.- Kablea ezazu sistema eta elikatu aurretik irakasleari erakutsi egiozu,  3.- Sor ezazu PWW-a eta DIR finkoa Helburu_1- en programa erabiliz. DIR balioa finko manten ezazu eta  Duty Ciclea alda ezazu. Rpm-ak Scopean beha itzazu.  5. Praktika. Datu-eskuratze eta datu-sortzea. 2. Atala. 2. saioa  5. praktika. 2. Saioa. (motorearekin).  Helburu_1: PWM seinalea sortu kontadorea erabiliz. Motorea kabletatu ezazu eta abiadura aldaketa beha ezazu.  Helburu_2:   Kontadorearen irakurketarekin motorearen abiadura ondoriozta ezazu rpm unitateetan.   Helburu_3:  Motorearen abiadura maximoa eta ez-linealtasunak defini itzazu.   4  Jarriatu behar diren urratsak :  1.-  Motorearen abiatzeari dagokion ez linealtasuna definitu. Hori burutzeko, programatikoki aldakorra den  Duty Ciclea  (DC) garatu behar da. Zehazki, 1Vpp anplitudea duen senoidala erabiliko da, hots, Duty  Ciclearen balioa aldatuz joango da   -----t = 0.2  …..    u(t)  y(t)  Erreferentzia  Erreferentzia  4. praktika: Abiadura-kontrolaren begiztaren inplementazioa  Encoderraren seinalea   5  Eman behar diren urratsak:  1.-  3. praktikaren, 2. saioaren simulink eskeman PID kontroladorea sar ezazu. Horretarako seinaleen  helmugak aldatu beharko dituzu.  2.- Simulazioarekin lortu dituzun PID-parametroen balioak jar itzazu PID- aren konfigurazioan.  3.- PID-arentzako diskretizazio-metodoa aukera ezazu.  4.- Defini ezazu ibilbide-erreferentzia.  5.- Laginketa- periodoa defini ezazu. Exekutatu ezazu eta jarraipena beha ezazu.  6.- Integrazio-metodo ezberdinak erabiliz azter ezazu sistemaren portaera.  7.- Kontroladorea doi ezazu.  4. praktika: Abiadura-kontrolaren begiztaren inplementazioa  4. praktika     1. Helburua : PID kontroladorea erabiliz abiadura-kontrolaren inplementazioa  2. Helburua:  PID-aren parametroak doitu. 
